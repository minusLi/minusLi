# 2019.07.22

#### 每日一题:
- Q. 有n个石头, 每个石头有自己的价值w, 这些石头随机摆放成一排. 
现在有两个人A和B(两人都非常聪明, 且是利己主义), 他们依次从这一排石头从左到右开始取石头, 直到取完所有石头. 
规则是后一个人取的石头数量不超过上个人取的石头数量的2倍. 现在假定A先取, 问A最终获取的石头总价值是多少?

```
这个题很容易想到是DP问题, 同时又是两个人的博弈问题. 是比较典型的DP+博弈问题. 
自己罗列一下前面1个石头,2个石头,3个石头..., 很容易能感受到取石头需要考虑的因素是前一手对方取石头的个数,以及当前剩余的石头.

假设DP[k][n]表示剩余n个石头的时候, 当前自己最多取k个石头, 在这种情况下, 自己的最优解. 
那么相应的另一个人的总价值就是Sum(n) - DP[k][n], Sum(n)表示剩余n个石头的总价值.
同时因为两个人都非常聪明,并且是利己主义. 另一个人也会按照最优的方式去挑选石头
假设自己在本轮挑选了i个石头, 那么另一个人按照这个思路的最优解就是DP[2*i][n-i]

于是得到公式: DP[k][n] = Max( {SUM(n) - DP[2*i][n-i]} ) i从1开始,一直到k.

这里进一步思考k的取值范围: 
假设AB都每次按照最大的去获取, 那么每轮能挑选的最大石头数就是:2, 4, 8, 16, ..., 2^i.
所有轮挑选的石头数之后一定是n, 同时考虑到最后一次不会这么凑巧刚好是2^i, 假设是last(0 <= last <=2^i)
所以有公式:
    2+4+8+...+2^(i-1) + last = n
=> 2(2^(i-1)-1)/(2-1) + last = n
=> 2^i - 2 + last = n
=> 0 <=  n - 2^i + 2 <= 2^i
=> log(n+2) - 1 <= i <= log(n+2)

2^i 不就是 k 吗, 就可以求得k的范围, 递归的时候能缩小范围
 
```